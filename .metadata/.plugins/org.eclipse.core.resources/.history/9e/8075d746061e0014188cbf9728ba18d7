<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<groupId>com.pas</groupId>
	<artifactId>ELMTest</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<packaging>jar</packaging>

	<name>ELMTest</name>
	<url>http://maven.apache.org</url>

	<properties>
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
	</properties>

	<dependencies>
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>3.8.1</version>
			<scope>test</scope>
		</dependency>
	</dependencies>
	
	build>
        <pluginManagement>
            <plugins>
                <plugin>
                    <groupId>com.github.fommil.netlib</groupId>
                    <artifactId>generator</artifactId>
                    <executions>
                        <execution>
                            <id>blas</id>
                            <goals>
                                <goal>native-jni</goal>
                            </goals>
                            <configuration>
                                <implementing>com.github.fommil.netlib.NativeSystemBLAS</implementing>
                                <outputDir>${project.build.directory}/netlib-native</outputDir>
                                <outputName>com_github_fommil_netlib_NativeSystemBLAS.c</outputName>
                                <scan>org.netlib.blas</scan>
                                <prefix>cblas_</prefix>
                                <firstParam>CblasColMajor</firstParam>
                                <noFirstParam>.*(dot|nrm2|asum|amax|swap|copy|rot|xpy|cal).*</noFirstParam>
                                <exclude>${prefer.f2j}</exclude>
                                <cblas_hack>true</cblas_hack>
                                <includes>
                                    <param>cblas.h</param>
                                </includes>
                            </configuration>
                        </execution>
                        <execution>
                            <id>lapack</id>
                            <goals>
                                <goal>native-jni</goal>
                            </goals>
                            <configuration>
                                <implementing>com.github.fommil.netlib.NativeSystemLAPACK</implementing>
                                <outputDir>${project.build.directory}/netlib-native</outputDir>
                                <outputName>com_github_fommil_netlib_NativeSystemLAPACK.c</outputName>
                                <scan>org.netlib.lapack</scan>
                                <prefix>LAPACKE_</prefix>
                                <suffix>_work</suffix>
                                <firstParam>LAPACK_COL_MAJOR</firstParam>
                                <noFirstParam>
                                    [sd](disna|gtcon|gttrf|lapy[23]|larfg|larnv|lasrt|ptcon|pttrf|stebz|sterf|lamch)
                                </noFirstParam>
                                <exclude>${prefer.f2j}</exclude>
                                <extractChar>true</extractChar>
                                <lapacke_hack>true</lapacke_hack>
                                <includes>
                                    <param>lapacke.h</param>
                                </includes>
                            </configuration>
                        </execution>
                        <execution>
                            <id>arpack</id>
                            <goals>
                                <goal>native-jni</goal>
                            </goals>
                            <configuration>
                                <implementing>com.github.fommil.netlib.NativeSystemARPACK</implementing>
                                <outputDir>${project.build.directory}/netlib-native</outputDir>
                                <outputName>com_github_fommil_netlib_NativeSystemARPACK.c</outputName>
                                <scan>org.netlib.arpack</scan>
                                <suffix>_</suffix>
                                <exclude>${prefer.f2j}</exclude>
                                <extractChar>true</extractChar>
                                <exclude>${prefer.f2j}</exclude>
                                <fortran_hack>true</fortran_hack>
                                <includes>
                                    <param>arpack.h</param>
                                </includes>
                            </configuration>
                        </execution>
                    </executions>
                </plugin>
                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>native-maven-plugin</artifactId>
                    <configuration>
                        <!-- numberOfConcurrentCompilation would be nice, but always fails :-( -->
                        <!-- http://jira.codehaus.org/browse/MOJO-1955 -->
                        <javahVerbose>true</javahVerbose>
                        <javahClassNames>
                            <javahClassName>com.github.fommil.netlib.NativeSystemBLAS</javahClassName>
                            <javahClassName>com.github.fommil.netlib.NativeSystemLAPACK</javahClassName>
                            <javahClassName>com.github.fommil.netlib.NativeSystemARPACK</javahClassName>
                        </javahClassNames>
                        <compilerStartOptions>
                            <compilerStartOption>-O3</compilerStartOption>
                        </compilerStartOptions>
                        <compilerMiddleOptions>
                            <compilerMiddleOption>-Wall -fPIC -DADD_</compilerMiddleOption>
                            <compilerMiddleOption>-fdata-sections</compilerMiddleOption>
                            <compilerMiddleOption>-ffunction-sections</compilerMiddleOption>
                        </compilerMiddleOptions>
                        <linkerStartOptions>
                            <linkerStartOption>-O3</linkerStartOption>
                        </linkerStartOptions>
                        <sources>
                            <source>
                                <directory>${project.build.directory}/netlib-native</directory>
                                <includes>
                                    <include>*.c</include>
                                </includes>
                            </source>
                            <source>
                                <directory>${netlib.src}/JNI</directory>
                                <includes>
                                    <include>*.c</include>
                                </includes>
                            </source>
                            <source>
                                <directory>${netlib.src}/LAPACKE</directory>
                                <includes>
                                    <include>**/*.f</include>
                                    <include>**/*.c</include>
                                </includes>
                                <excludes>
                                    <!-- yay for regex exclusion rules, oh wait... -->
                                    <!-- no.veclib.impl -->
                                    <exclude>**/*_dbbcsd*</exclude>
                                    <exclude>**/*_dgemqrt*</exclude>
                                    <exclude>**/*_dgeqrfp*</exclude>
                                    <exclude>**/*_dgeqrt2*</exclude>
                                    <exclude>**/*_dgeqrt3*</exclude>
                                    <exclude>**/*_dgeqrt*</exclude>
                                    <exclude>**/*_dlagge*</exclude>
                                    <exclude>**/*_dlagsy*</exclude>
                                    <exclude>**/*_dlapmr*</exclude>
                                    <exclude>**/*_dlartgp*</exclude>
                                    <exclude>**/*_dlartgs*</exclude>
                                    <exclude>**/*_dlatms*</exclude>
                                    <exclude>**/*_dorbdb*</exclude>
                                    <exclude>**/*_dorcsd*</exclude>
                                    <exclude>**/*_dsyconv*</exclude>
                                    <exclude>**/*_dsyswapr*</exclude>
                                    <exclude>**/*_dsytri2*</exclude>
                                    <exclude>**/*_dsytri2x*</exclude>
                                    <exclude>**/*_dsytrs2*</exclude>
                                    <exclude>**/*_dtpmqrt*</exclude>
                                    <exclude>**/*_dtpqrt2*</exclude>
                                    <exclude>**/*_dtpqrt*</exclude>
                                    <exclude>**/*_dtprfb*</exclude>
                                    <exclude>**/*_sbbcsd*</exclude>
                                    <exclude>**/*_sgemqrt*</exclude>
                                    <exclude>**/*_sgeqrfp*</exclude>
                                    <exclude>**/*_sgeqrt2*</exclude>
                                    <exclude>**/*_sgeqrt3*</exclude>
                                    <exclude>**/*_sgeqrt*</exclude>
                                    <exclude>**/*_slagge*</exclude>
                                    <exclude>**/*_slagsy*</exclude>
                                    <exclude>**/*_slapmr*</exclude>
                                    <exclude>**/*_slartgp*</exclude>
                                    <exclude>**/*_slartgs*</exclude>
                                    <exclude>**/*_slatms*</exclude>
                                    <exclude>**/*_sorbdb*</exclude>
                                    <exclude>**/*_sorcsd*</exclude>
                                    <exclude>**/*_ssyconv*</exclude>
                                    <exclude>**/*_ssyswapr*</exclude>
                                    <exclude>**/*_ssytri2*</exclude>
                                    <exclude>**/*_ssytri2x*</exclude>
                                    <exclude>**/*_ssytrs2*</exclude>
                                    <exclude>**/*_stpmqrt*</exclude>
                                    <exclude>**/*_stpqrt2*</exclude>
                                    <exclude>**/*_stprfb*</exclude>
                                </excludes>
                            </source>
                            <source>
                                <directory>${netlib.src}/ARPACK</directory>
                                <includes>
                                    <include>*.f</include>
                                </includes>
                            </source>
                        </sources>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-jar-plugin</artifactId>
                    <executions>
                        <execution>
                            <id>runtime</id>
                            <phase>package</phase>
                            <goals>
                                <goal>jar</goal>
                            </goals>
                            <configuration>
                                <classesDirectory>${project.build.directory}</classesDirectory>
                                <includes>
                                    <include>${project.artifactId}.*</include>
                                </includes>
                                <classifier>natives</classifier>
                            </configuration>
                        </execution>
                        <execution>
                            <id>source</id>
                            <phase>package</phase>
                            <goals>
                                <goal>jar</goal>
                            </goals>
                            <configuration>
                                <classesDirectory>${project.build.directory}</classesDirectory>
                                <includes>
                                    <include>netlib-native/**/*</include>
                                    <include>native/**/*</include>
                                </includes>
                                <classifier>sources</classifier>
                            </configuration>
                        </execution>
                    </executions>
                </plugin>
            </plugins>
        </pluginManagement>
    </build>
</project>
